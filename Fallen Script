--// –û—Å–Ω–æ–≤–Ω–æ–π –ö–æ–¥ //--
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

--// –û–∫–Ω–æ //--
local Window = Rayfield:CreateWindow({
   Name = "Fallen Executor",
   Icon = "dot", -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "–°–∞–º—ã–π –µ–±–µ–π—à–∏–π —Å–∫—Ä–∏–ø—Ç",
   LoadingSubtitle = "by Fallenqq",
   Theme = "Default",

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = false,
      FolderName = nil, -- Create a custom folder for your hub/game
      FileName = "Big Hub"
   }
})

--// –û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Å–µ–∫—Ü–∏–∏ //--
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

--// –§—É–Ω–∫—Ü–∏–∏ //--
local player = game:GetService("Players").LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local localPlayer = Players.LocalPlayer

-- –°–æ–∑–¥–∞–µ–º ScreenGui –∏ TextLabel –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CoordinatesGui"
screenGui.ResetOnSpawn = false

-- –§–æ–Ω (—Ä–∞–º–∫–∞)
local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 250, 0, 40)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
frame.BackgroundTransparency = 0.2
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

-- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 10)

-- –û–±–≤–æ–¥–∫–∞ (–Ω–µ–æ–Ω–æ–≤–∞—è —Ä–∞–º–∫–∞)
local stroke = Instance.new("UIStroke", frame)
stroke.Color = Color3.fromRGB(100, 100, 120)
stroke.Thickness = 2
stroke.Transparency = 0.4

-- –¢–µ–∫—Å—Ç
local textLabel = Instance.new("TextLabel", frame)
textLabel.Size = UDim2.new(1, -10, 1, 0)
textLabel.Position = UDim2.new(0, 5, 0, 0)
textLabel.BackgroundTransparency = 1
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.Font = Enum.Font.GothamMedium
textLabel.TextSize = 16
textLabel.TextXAlignment = Enum.TextXAlignment.Left
textLabel.Text = "Position: X=0 Y=0 Z=0"

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
local function formatPosition(position)
    local x = math.floor(position.X + 0.5)
    local y = math.floor(position.Y + 0.5)
    local z = math.floor(position.Z + 0.5)
    return string.format("Position: X=%d  Y=%d  Z=%d", x, y, z)
end

-- –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
local connection
local function updateLoop()
    connection = RunService.Heartbeat:Connect(function()
        textLabel.Text = formatPosition(humanoidRootPart.Position)
    end)
end

local Tab = Window:CreateTab("–û—Å–Ω–æ–≤–Ω–æ–π", "square-menu") -- –í–∫–ª–∞–¥–∫–∞
local CoordSection = Tab:CreateSection("–í–≤–æ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç")

-- ‚¨á –û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
local player = game:GetService("Players").LocalPlayer
local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")

local flying = false
local flySpeed = 100
local bodyGyro, bodyVelocity
local flyConnection

local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- ‚¨á –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—ë—Ç–∞
local function startFlying()
    if flying then return end
    flying = true

    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.P = 9e4
    bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bodyGyro.CFrame = hrp.CFrame
    bodyGyro.Parent = hrp

    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.Velocity = Vector3.zero
    bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    bodyVelocity.Parent = hrp

    flyConnection = RS.RenderStepped:Connect(function()
        if flying then
            bodyGyro.CFrame = workspace.CurrentCamera.CFrame
            local moveDir = Vector3.zero
            if UIS:IsKeyDown(Enum.KeyCode.W) then moveDir += workspace.CurrentCamera.CFrame.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.S) then moveDir -= workspace.CurrentCamera.CFrame.LookVector end
            if UIS:IsKeyDown(Enum.KeyCode.A) then moveDir -= workspace.CurrentCamera.CFrame.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.D) then moveDir += workspace.CurrentCamera.CFrame.RightVector end
            if UIS:IsKeyDown(Enum.KeyCode.Space) then moveDir += Vector3.new(0, 1, 0) end
            if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then moveDir -= Vector3.new(0, 1, 0) end

            bodyVelocity.Velocity = moveDir.Magnitude > 0 and moveDir.Unit * flySpeed or Vector3.zero
        end
    end)
end

-- ‚¨á –í—ã–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—ë—Ç–∞
local function stopFlying()
    flying = false
    if bodyGyro then bodyGyro:Destroy() end
    if bodyVelocity then bodyVelocity:Destroy() end
    if flyConnection then flyConnection:Disconnect() end
end

-- ‚¨á –†–∞–∑–¥–µ–ª –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
local FlySection = Tab:CreateSection("–ü–æ–ª—ë—Ç")

-- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ Toggle
local FlyToggle

FlyToggle = Tab:CreateToggle({
    Name = "–í–∫–ª—é—á–∏—Ç—å/–í—ã–∫–ª—é—á–∏—Ç—å –ø–æ–ª—ë—Ç",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            startFlying()
            Rayfield:Notify({
                Title = "–ü–æ–ª—ë—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω",
                Content = "",
                Duration = 3
            })
        else
            stopFlying()
            Rayfield:Notify({
                Title = "–ü–æ–ª—ë—Ç –æ—Ç–∫–ª—é—á—ë–Ω",
                Content = "",
                Duration = 2
            })
        end
    end,
})

-- ‚¨á –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
local FlySpeedInput = Tab:CreateInput({
    Name = "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—ë—Ç–∞",
    PlaceholderText = tostring(flySpeed), -- –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        local number = tonumber(Text)
        if number then
            flySpeed = number
            Rayfield:Notify({
                Title = "–°–∫–æ—Ä–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞",
                Content = "–ù–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—ë—Ç–∞: " .. number,
                Duration = 2
            })
            -- –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ
            if FlySpeedInput then
                FlySpeedInput:Set(tostring(number))
            end
        else
            Rayfield:Notify({
                Title = "–û—à–∏–±–∫–∞",
                Content = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ!",
                Duration = 2
            })
        end
    end,
})

-- –ë–∏–Ω–¥ —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ Toggle, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é –ø–æ–ª—ë—Ç
Tab:CreateKeybind({
    Name = "–ë–∏–Ω–¥ –ø–æ–ª—ë—Ç–∞",
    CurrentKeybind = "",
    HoldToInteract = false,
    Callback = function()
        if FlyToggle then
            FlyToggle:Set(not flying)
        end
    end,
})

local xCoord = 0
local yCoord = 0
local zCoord = 0

local Toggle = Tab:CreateToggle({
   Name = "–ü–æ–∫–∞–∑–∞—Ç—å/–°–ø—Ä—è—Ç–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã",
   CurrentValue = false,
   Flag = "CoordsToggle",
   Callback = function(Value)
   if Value then
       screenGui.Parent = player:WaitForChild("PlayerGui")
       updateLoop()
   else
       if connection then
           connection:Disconnect()
           connection = nil
       end
       screenGui.Parent = nil
   end
end
})

-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö GUI —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
local DeleteCoordsButton = Tab:CreateButton({
   Name = "–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã",
   Callback = function()
       -- –ò—â–µ–º –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã —Ç–∏–ø–∞ ScreenGui —Å –∏–º–µ–Ω–µ–º "CoordinatesGui" –≤ PlayerGui
       for _, v in ipairs(player:WaitForChild("PlayerGui"):GetChildren()) do
           if v:IsA("ScreenGui") and v.Name == "CoordinatesGui" then
               v:Destroy()  -- –£–¥–∞–ª—è–µ–º –≤—Å–µ GUI —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
               print("GUI —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —É–¥–∞–ª–µ–Ω–æ.")
           end
       end
   end,
})

-- –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ –∏–≥—Ä–æ–∫—É –ø–æ –Ω–∏–∫—É
Tab:CreateInput({
	Name = "–¢–µ–ª–µ–ø–æ—Ä—Ç –∫ –∏–≥—Ä–æ–∫—É",
	PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫",
	RemoveTextAfterFocusLost = true,
	Callback = function(username)
		local targetPlayer = game.Players:FindFirstChild(username)
		local localPlayer = game.Players.LocalPlayer

		if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
			local targetPos = targetPlayer.Character.HumanoidRootPart.Position
			local char = localPlayer.Character
			if char and char:FindFirstChild("HumanoidRootPart") then
				char:MoveTo(targetPos + Vector3.new(0, 5, 0)) -- –Ω–µ–º–Ω–æ–≥–æ –≤—ã—à–µ, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å—Ç—Ä—è—Ç—å
				Rayfield:Notify({
					Title = "–¢–µ–ª–µ–ø–æ—Ä—Ç —É—Å–ø–µ—à–µ–Ω",
					Content = "–í—ã —Ç–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –∫ " .. username,
					Duration = 3
				})
			end
		else
			Rayfield:Notify({
				Title = "–û—à–∏–±–∫–∞",
				Content = "–ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂",
				Duration = 3
			})
		end
	end
})

local Divider = Tab:CreateDivider()

Tab:CreateInput({
    Name = "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X",
    PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ X",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        xCoord = tonumber(Value) or 0
    end,
})

Tab:CreateInput({
    Name = "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y",
    PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ Y",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        yCoord = tonumber(Value) or 0
    end,
})

Tab:CreateInput({
    Name = "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Z",
    PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ Z",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        zCoord = tonumber(Value) or 0
    end,
})

Tab:CreateButton({
    Name = "üöÄ –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã",
    Callback = function()
        humanoidRootPart.CFrame = CFrame.new(Vector3.new(xCoord, yCoord, zCoord))
        print("–¢–µ–ª–µ–ø–æ—Ä—Ç –Ω–∞: X="..xCoord.." Y="..yCoord.." Z="..zCoord)
    end,
})

local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid") or nil

local defaultSpeed = 16
if humanoid then
	defaultSpeed = humanoid.WalkSpeed
end

local Section = Tab:CreateSection("–î–≤–∏–∂–µ–Ω–∏–µ") -- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–∏

-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
Tab:CreateInput({
	Name = "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WalkSpeed",
	PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ",
	RemoveTextAfterFocusLost = true,
	Callback = function(Text)
		local value = tonumber(Text)
		humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
		if value and humanoid then
			humanoid.WalkSpeed = value
			Rayfield:Notify({
				Title = "WalkSpeed –∏–∑–º–µ–Ω—ë–Ω",
				Content = "–ù–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: " .. value,
				Duration = 3
			})
		else
			Rayfield:Notify({
				Title = "–û—à–∏–±–∫–∞",
				Content = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ",
				Duration = 3
			})
		end
	end
})

-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
Tab:CreateButton({
	Name = "–°–±—Ä–æ—Å–∏—Ç—å –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏",
	Callback = function()
		humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.WalkSpeed = defaultSpeed
			Rayfield:Notify({
				Title = "–°–∫–æ—Ä–æ—Å—Ç—å —Å–±—Ä–æ—à–µ–Ω–∞",
				Content = "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è: " .. tostring(defaultSpeed),
				Duration = 3
			})
		end
	end
})

local humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid") or nil

local defaultJumpPower = 50
if humanoid then
	defaultJumpPower = humanoid.JumpPower
end

local Section = Tab:CreateSection("–ü—Ä—ã–∂–∫–∏")

-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ JumpPower
Tab:CreateInput({
	Name = "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å JumpPower",
	PlaceholderText = "–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ",
	RemoveTextAfterFocusLost = true,
	Callback = function(Text)
		humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			local value = tonumber(Text)
			if value then
				humanoid.JumpPower = value
				Rayfield:Notify({
					Title = "JumpPower –∏–∑–º–µ–Ω—ë–Ω",
					Content = "–ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: " .. value,
					Duration = 3
				})
			else
				Rayfield:Notify({
					Title = "–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ JumpPower",
					Content = "–°–µ–π—á–∞—Å: " .. humanoid.JumpPower,
					Duration = 3
				})
			end
		end
	end
})

-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ JumpPower
Tab:CreateButton({
	Name = "–°–±—Ä–æ—Å–∏—Ç—å JumpPower –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ",
	Callback = function()
		humanoid = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
		if humanoid then
			humanoid.JumpPower = defaultJumpPower
			Rayfield:Notify({
				Title = "JumpPower —Å–±—Ä–æ—à–µ–Ω",
				Content = "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ: " .. tostring(defaultJumpPower),
				Duration = 3
			})
		end
	end
})
Rayfield:LoadConfiguration()
